# æ–°å† ç–«æƒ…ï¼ˆNCPï¼‰çš„ç›‘æµ‹ä¸è¶‹åŠ¿åˆ†æ

## 1. å‰è¨€ ğŸ‡¨ğŸ‡³

### 1.1 å¦‚ä½•ä½¿ç”¨ï¼Ÿ

1. ä¸‹è½½æ•´ä¸ªé¡¹ç›®è‡³æœ¬åœ°ï¼Œä½¿ç”¨å‘½ä»¤`source ./venv/bin/activate`æ¿€æ´»é¡¹ç›®ä¸‹çš„è™šæ‹Ÿç¯å¢ƒï¼Œå³å¯è¿è¡Œ
2. åœ¨é¡¹ç›®æ–‡ä»¶ä¸‹ä½¿ç”¨å‘½ä»¤`pip install -r requirements.txt`å®‰è£…ä¾èµ–åº“
3. é…ç½®[chromedriver](https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=chinaDayList,chinaDayAddList,cityStatis,nowConfirmStatis,provinceCompare) 
4. è¿è¡Œé¡¹ç›®ä¸‹çš„`main.py`æ–‡ä»¶

### 1.2 é¡¹ç›®é˜è¿°

ğŸ‘¨ğŸ»â€ğŸ’» 2020ï¼Œæ³¨å®šæ˜¯ä¸å¹³å‡¡çš„ä¸€å¹´ï¼Œæ–°å† ç–«æƒ…å¦‚æ™´å¤©éœ¹é›³å°†æ²‰æµ¸åœ¨2020å¹´æ˜¥èŠ‚æ°”æ°›ä¸­çš„äººä»¬éª¤ç„¶æ¨è¿›äººäººè‡ªå±çš„ç–«æƒ…é˜²æ§ä¸­ï¼Œæ–°å† ç–«æƒ…çš„è‚†è™ï¼Œä½¿å¾—æˆ‘ä»¬æ¯ä¸€ä¸ªäººéƒ½æ— æ³•ç‹¬å–„å…¶èº«ã€‚

â€‹	é¢å¯¹è¿™ä¸€åœºçªå¦‚å…¶æ¥çš„å±æœºï¼Œå¹¸äºæœ‰å¼ºå¤§çš„å›½å®¶å’Œæ”¿åºœï¼Œä½¿æˆ‘ä»¬å¤§éƒ¨åˆ†äººå¹³ç¨³åº¦è¿‡ç–«æƒ…çš„çˆ†å‘æœŸï¼Œåœ¨ä»ä¸€æœˆåˆç–«æƒ…çˆ†å‘åˆ°äºŒæœˆåº•ä¸åˆ°ä¸¤ä¸ªæœˆçš„æ—¶é—´é‡Œï¼Œå®æ–½äº†æœ€æœ‰æ•ˆçš„æªæ–½ï¼Œå¹¶åœ¨ä¸‰æœˆå°†æ–°å¢ç¡®è¯Šçš„æ•°ç›®å‡åˆ°äº†ä¸¤ä½æ•°ã€‚

â€‹	æ•°æ®æ˜¯å†·å†°å†°çš„ï¼Œä½†æ˜¯ï¼Œå€Ÿç”±æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°èƒŒåé€éœ²å‡ºæ¥çš„å›½åŠ›é›„åšã€è‹±é›„æ°”æ¦‚ï¼Œä¹Ÿåªæœ‰äº²èº«ç»å†è¿‡è¿™ä¸€åœºæˆ˜å½¹çš„æˆ‘ä»¬ï¼Œæ‰æ·±æ·±æ‡‚å¾—é‚£ä¸€æ¡é€æ¸å½’äºç›´çº¿çš„ç¡®è¯Šæ›²çº¿ï¼Œæ¥çš„æœ‰å¤šä¹ˆä¸å®¹æ˜“ã€‚

![chart_plt](https://billie-s-album.oss-cn-beijing.aliyuncs.com/img/chart_plt.png)

æœ¬é¡¹ç›®å›´ç»•ç–«æƒ…çš„å‡ ä¸ªå…³é”®ç‰¹å¾ï¼ˆå¦‚ç¡®è¯Šã€æ²»æ„ˆã€æ­»äº¡ï¼‰ï¼Œç»˜åˆ¶æŠ˜çº¿å›¾ï¼Œå¹¶åœ¨GUIå›¾å½¢é¡µé¢è¿›è¡Œäº¤äº’ä¸æ˜¾ç¤ºå›¾è¡¨ã€‚

### 1.3 æŠ€æœ¯æ ˆ

- python - PyQt5ã€numpyã€pandasã€requestsã€pyechartsã€matplotlib

## 2. éœ€æ±‚åˆ†æ

### 2.1 åŠŸèƒ½éœ€æ±‚åˆ†æ

![ncp1](https://billie-s-album.oss-cn-beijing.aliyuncs.com/img/ncp1.png)/*åŠŸèƒ½å›¾ç¤º*/

![ncp2](https://billie-s-album.oss-cn-beijing.aliyuncs.com/img/ncp2.png)/*å›¾å½¢ç•Œé¢ç»„ä»¶è®¾è®¡*/

![image-20201125213231534](https://billie-s-album.oss-cn-beijing.aliyuncs.com/img/image-20201125213231534.png)/*å›¾å½¢ç•Œé¢ç¤ºæ„å›¾*/

### 2.2 æŠ€æœ¯éœ€æ±‚åˆ†æ

ğŸ› **æ•°æ®çˆ¬å–** - requestsï¼ˆä¸€ä¸ªrequestsåƒéå¤©ï¼‰ï¼Œç”±äºæ˜¯ä½¿ç”¨APIçš„æ–¹å¼è·å–æ•°æ®ï¼Œå› æ­¤åªéœ€è¦æ·»åŠ ç®€å•çš„è¯·æ±‚å¤´å°±å¯ä»¥è½»æ¾è·å–åˆ°æ•°æ®ã€‚

ğŸ” **æ•°æ®åˆ†æ** - numpyã€pandasï¼Œè¯·æ±‚è¿”å›çš„æ•°æ®ä¸ºjsonæ ¼å¼ï¼Œé‡‡ç”¨`pd.DataFrame()`å°†å…¶å¤„ç†å¹¶ä¿å­˜è‡³csvæ–‡ä»¶ã€‚

ğŸ“ˆ **åˆ¶ä½œå›¾è¡¨** - echartsã€matplotlibï¼Œæä¾›ä¸¤ç§ä¸åŒé£æ ¼çš„å›¾è¡¨ï¼Œå¹¶ç”Ÿæˆç½‘é¡µå›¾è¡¨ï¼ˆechartsï¼‰ã€‚

ğŸ“ƒ **å›¾å½¢é¡µé¢** - PyQt5ï¼Œæç®€é£æ ¼ï¼Œæ²¡æœ‰ä¿®é¥°ã€‚

### 2.3 APIéœ€æ±‚åˆ†æï¼ˆæ¥æºï¼šè…¾è®¯ï¼‰

ä¸‹é¢æ˜¯æœ¬é¡¹ç›®ç”¨åˆ°çš„APIï¼š

- å›½å†…æ•°æ®
  - å›½å†…å…¨å±€ - `https://api.inews.qq.com/newsqa/v1/query/inner/publish/modules/list?modules=chinaDayList,chinaDayAddList,cityStatis,nowConfirmStatis,provinceCompare`
  - å›½å†…å…¨å±€ - `https://view.inews.qq.com/g2/getOnsInfo?name=disease_other`
  - å›½å†…çœä»½åŠåŸå¸‚ - `https://api.inews.qq.com/newsqa/v1/query/pubished/daily/list?province={}&city={}&`
- æµ·å¤–æ•°æ®
  - æµ·å¤–å…¨å±€ - `https://api.inews.qq.com/newsqa/v1/automation/modules/list?modules=FAutoGlobalStatis,FAutoContinentStatis,FAutoGlobalDailyList,FAutoCountryConfirmAdd`
  - æµ·å¤–å„å›½ - `https://api.inews.qq.com/newsqa/v1/automation/foreign/daily/list?country={}&`

## 3. å¼€å‘æµç¨‹

ğŸ› **æ•°æ®çˆ¬å–** 

ğŸ” **æ•°æ®åˆ†æ** 

ğŸ“ˆ **åˆ¶ä½œå›¾è¡¨** 

ğŸ“ƒ **å›¾å½¢é¡µé¢** 

## 4. åè®°

åœ¨çº¿å›¾è¡¨ï¼ˆæ¯æ—¥æ›´æ–°ï¼‰

- china - [https://download.billie52707.cn/NCP/china.html](https://download.billie52707.cn/NCP/china.html)
- abroad - [https://download.billie52707.cn/NCP/abroad.html](https://download.billie52707.cn/NCP/abroad.html)
- global - [https://download.billie52707.cn/NCP/global.html](https://download.billie52707.cn/NCP/global.html)

é¡¹ç›®è¯¦è§£ - [æ–°å† ç–«æƒ…ï¼ˆNCPï¼‰çš„ç›‘æµ‹ä¸è¶‹åŠ¿åˆ†æ](https://billie52707.cn/posts/2020/11/ncp-readme/)



